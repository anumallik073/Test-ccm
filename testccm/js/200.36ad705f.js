"use strict";(self["webpackChunkcatalog_builder"]=self["webpackChunkcatalog_builder"]||[]).push([[200],{6490:(e,t,s)=>{s.d(t,{Z:()=>E});s(246);var l=s(3673),o=s(2323);const a=e=>((0,l.dD)("data-v-5ef2f26c"),e=e(),(0,l.Cn)(),e),r={class:"q-pa-lg q-gutter-sm settingsDiv"},i={class:"row"},n=a((()=>(0,l._)("div",{class:"col"},null,-1))),u={class:""},p=a((()=>(0,l._)("div",{class:"text-h6"},"Subscriptions",-1))),c=["src"],d={class:"q-pa-md"},m=a((()=>(0,l._)("p",{class:"text-subtitle1 text-primary"},"Details",-1))),w=["innerHTML"],b={class:"row"},_={class:"detailsTable"},g=a((()=>(0,l._)("thead",null,[(0,l._)("th",null,"Brands"),(0,l._)("th",null,"Categories"),(0,l._)("th",null,"Products"),(0,l._)("th",null,"SKU's"),(0,l._)("th",null,"Pricing"),(0,l._)("th",null,"Catalog Updates"),(0,l._)("th",null,"Approval"),(0,l._)("th",null,"Last Published")],-1))),y=a((()=>(0,l._)("td",null,"1",-1))),f=a((()=>(0,l._)("td",null,"MSRP",-1))),h={class:"q-pa-md"},v=a((()=>(0,l._)("p",{class:"text-subtitle2 text-primary"}," Subscription Request ",-1))),S=a((()=>(0,l._)("div",{class:"q-pt-sm"},[(0,l._)("p",{class:"light"}," Are you sure you want to request the entire catalog from supplier? ")],-1))),q={class:"row"},W={class:"col"},Z={class:""},k={class:"text-pre-wrap"};function I(e,t,s,a,I,x){const T=(0,l.up)("q-select"),z=(0,l.up)("q-space"),D=(0,l.up)("q-icon"),Q=(0,l.up)("q-input"),V=(0,l.up)("q-td"),C=(0,l.up)("q-separator"),R=(0,l.up)("q-menu"),U=(0,l.up)("q-btn"),A=(0,l.up)("q-form"),F=(0,l.up)("q-tr"),H=(0,l.up)("q-table");return(0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("div",i,[n,(0,l._)("div",null,[(0,l.Wm)(T,{label:"Filter by Industry","transition-show":"flip-up","transition-hide":"flip-down",filled:"",modelValue:a.industry,"onUpdate:modelValue":[t[0]||(t[0]=e=>a.industry=e),t[1]||(t[1]=e=>a.filterByIndustry(e))],options:a.category,"option-label":"name","option-value":"id",style:{width:"250px"}},null,8,["modelValue","options"])])]),(0,l._)("div",u,[(0,l.Wm)(H,{class:"box-shadow",rows:a.filteredRows,columns:a.columns,title:"Subscriptions","row-key":"name",filter:a.filter},{top:(0,l.w5)((()=>[p,(0,l.Wm)(z),(0,l.Wm)(Q,{outlined:"",dense:"",debounce:"300",modelValue:a.filter,"onUpdate:modelValue":t[2]||(t[2]=e=>a.filter=e),placeholder:"Search",style:{"min-width":"300px"}},{append:(0,l.w5)((()=>[(0,l.Wm)(D,{name:"search"})])),_:1},8,["modelValue"])])),body:(0,l.w5)((s=>[(0,l.Wm)(F,{props:s},{default:(0,l.w5)((()=>[(0,l.Wm)(V,{key:"providerLogo",props:s},{default:(0,l.w5)((()=>[(0,l._)("img",{class:"catalogLogo",src:"https://az777500.vo.msecnd.net/images/"+s.row.logo,alt:""},null,8,c)])),_:2},1032,["props"]),(0,l.Wm)(V,{key:"name",props:s},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(s.row.name)+" ",1),(0,l.Wm)(D,{name:"mdi-information-outline",size:"sm",color:"primary",class:"cursor-pointer"},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{"transition-show":"scale","transition-hide":"scale","max-width":"700px"},{default:(0,l.w5)((()=>[(0,l._)("div",d,[m,(0,l._)("div",{innerHTML:s.row.description,class:"modal-text"},null,8,w),(0,l.Wm)(C),(0,l._)("div",b,[(0,l._)("table",_,[g,(0,l._)("tbody",null,[y,(0,l._)("td",null,(0,o.zw)(s.row.categories),1),(0,l._)("td",null,(0,o.zw)(s.row.products),1),(0,l._)("td",null,(0,o.zw)(s.row.skus),1),f,(0,l._)("td",null,(0,o.zw)(s.row.updatesType),1),(0,l._)("td",null,(0,o.zw)(s.row.approvalType),1),(0,l._)("td",null,(0,o.zw)(s.row.lastPublished.split("T")[0]),1)])])]),(0,l.Wm)(C)])])),_:2},1024)])),_:2},1024)])),_:2},1032,["props"]),(0,l.Wm)(V,{key:"updatesType",props:s},{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(s.row.updatesType),1)])),_:2},1032,["props"]),(0,l.Wm)(V,{key:"subscription",props:s},{default:(0,l.w5)((()=>["Subscribed"==s.row.subscription?((0,l.wg)(),(0,l.j4)(U,{key:0,color:"positive",label:"Subscribe"},{default:(0,l.w5)((()=>[(0,l.Wm)(R,{"transition-show":"scale","transition-hide":"scale","max-width":"250px"},{default:(0,l.w5)((()=>[(0,l._)("div",h,[(0,l.Wm)(A,{onSubmit:e=>a.onSubmitSubscribe(s.row),onReset:e.onReset,class:"q-gutter-md"},{default:(0,l.w5)((()=>[v,(0,l.Wm)(Q,{square:"",outlined:"",dense:"",modelValue:a.accountID,"onUpdate:modelValue":t[3]||(t[3]=e=>a.accountID=e),label:"Account ID *","lazy-rules":"",rules:[e=>!!e||"Account ID is missing"]},null,8,["modelValue","rules"]),(0,l.Wm)(Q,{square:"",outlined:"",dense:"",modelValue:a.notes,"onUpdate:modelValue":t[4]||(t[4]=e=>a.notes=e),label:"Notes","lazy-rules":"",rules:[e=>!!e||"Notes is missing"]},null,8,["modelValue","rules"]),S,(0,l._)("div",null,[(0,l._)("div",q,[(0,l._)("div",W,[(0,l.Wm)(U,{label:"No",color:"warning"})]),(0,l._)("div",Z,[(0,l.Wm)(U,{label:"Yes",type:"submit",color:"primary"})])])])])),_:2},1032,["onSubmit","onReset"])])])),_:2},1024)])),_:2},1024)):(0,l.kq)("",!0)])),_:2},1032,["props"]),(0,l.Wm)(V,{key:"approvalType",props:s},{default:(0,l.w5)((()=>[(0,l._)("div",k,(0,o.zw)(s.row.approvalType?"Active":"Inactive"),1)])),_:2},1032,["props"])])),_:2},1032,["props"])])),_:1},8,["rows","columns","filter"])])])}s(71);var x=s(1959),T=s(3617),z=s(8825),D=s(126);const Q={setup(){const e=(0,T.oR)(),t=(0,z.Z)(),s=(0,x.iH)(null),o=(0,x.iH)("");return(0,l.wF)((()=>{e.dispatch("products/getAllSuppliers")})),{accountID:s,notes:o,industry:(0,x.iH)(null),filter:(0,x.iH)(""),filteredRows:(0,x.Fl)((()=>e.getters["products/getSubscriptionRow"])),columns:(0,x.Fl)((()=>e.getters["products/getSubscriptionCol"])),category:(0,x.Fl)((()=>e.getters["products/getSubscriptionCat"])),rows:(0,x.Fl)((()=>e.getters["products/getSubscriptionRow"])),filterByIndustry(e){t.loading.show({spinner:D.Z,spinnerColor:"white",backgroundColor:"black"}),this.filteredRows=[...this.rows].filter((t=>t.category==e.name)),setTimeout((()=>{t.loading.hide()}),500)},onSubmitSubscribe(l){let a={catalogID:l.catalogID,catalogAccountID:s.value,notes:null==o.value?"":o.value};e.dispatch("products/subscribeData",a).then((e=>{"Success"==e.status?t.notify({color:"positive",position:"top",message:"Successfully subscribed"}):t.notify({color:"negative",position:"top",message:"Could not subscribe to Catalog"})}))}}}};var V=s(4260),C=s(3017),R=s(4993),U=s(2025),A=s(4842),F=s(4554),H=s(8186),L=s(3884),P=s(5029),B=s(5869),M=s(2165),N=s(5269),j=s(7518),K=s.n(j);const Y=(0,V.Z)(Q,[["render",I],["__scopeId","data-v-5ef2f26c"]]),E=Y;K()(Q,"components",{QSelect:C.Z,QTable:R.Z,QSpace:U.Z,QInput:A.Z,QIcon:F.Z,QTr:H.Z,QTd:L.Z,QMenu:P.Z,QSeparator:B.Z,QBtn:M.Z,QForm:N.Z})},9200:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var l=s(3673);function o(e,t,s,o,a,r){const i=(0,l.up)("subscriptions",!0);return(0,l.wg)(),(0,l.j4)(i)}const a={components:{subscriptions:s(6490).Z}};var r=s(4260),i=s(3066),n=s(7518),u=s.n(n);const p=(0,r.Z)(a,[["render",o]]),c=p;u()(a,"components",{QLayout:i.Z})}}]);